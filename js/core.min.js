function createRequest(){var e;if(window.XMLHttpRequest)try{e=new XMLHttpRequest}catch(t){console.log(t)}return e}function handle(e,t){if(req)try{req.open("GET",e,!0),req.onreadystatechange=function(){4==req.readyState&&200==req.status&&t&&t(req.responseText)},req.send(null)}catch(n){console.log(n)}else console.log(req)}function focus(){for(var e=document.getElementsByTagName("h2"),t=0;t<e.length;t++)e[t]&&(shown(e[t])?e[t].style.color="#C30":e[t].style.color="")}function startAnimation(){for(var e=document.getElementsByClassName("demo"),t=0;t<e.length;t++)shown(e[t])?equal(e[t],animation[t])||(e[t].src="/img/portfolio/"+animation[t]):e[t].src="/img/portfolio/"+thumb[t]}function equal(e,t){var n=e.src.split("/");return n[n.length-1]==t?!0:!1}function shown(e){var t=!1,n=e.offsetTop+.5*e.clientHeight,o=document.documentElement.scrollTop;0==o&&(o=document.body.scrollTop);var a=window.innerHeight;return n>o+.1*a&&o+.82*a>n&&(t=!0),t}function hashchange(){var e=window.location.hash,t=e.lastIndexOf("!");0>t&&(t=e.lastIndexOf("#")),e=e.substr(t+1,e.length),e=e.toLowerCase(),load(e)}function load(e,t){var n=window.location.href,o=!1,a=["Welcome","Papers","Resume","Portfolio","Links"];if(e.length||(n.lastIndexOf("/")>0&&(e=n.substr(n.lastIndexOf("/")+1,n.length)),o=!0),""==e||"."==e)t||history.pushState({url:"."},"","."),document.title="PDIN",e="welcome",o=!0;else{o=!1;for(var r=0;r<a.length;r++)e==a[r].toLowerCase()&&(t||history.pushState({url:e},"",e),document.title="PDIN - "+a[r],o=!0)}o&&handle(e+".html",function(e){document.getElementById("content").innerHTML=e,document.removeEventListener("scroll",startAnimation),removeExternalJS(loadExternalJS),focus()})}function removeExternalJS(e){for(var t=document.getElementsByClassName("external"),n=0;n<t.length;n++)t[n].parentElement.removeChild(t[n]);e&&e()}function loadExternalJS(e){for(var t=document.getElementsByTagName("head")[0],n=document.getElementById("content").getElementsByTagName("script"),o=0;o<n.length;o++){var a=document.createElement("script");a.className="external",a.innerHTML=n[o].innerHTML,t.appendChild(a)}e&&e()}var req=createRequest(),animation=["DRPP.gif","jewels.gif","rabin.gif","kmeans.gif","roboter.gif","watchdog.gif","stock.gif","small.gif"],thumb=["DRPP_thumb.gif","jewels_thumb.gif","rabin_thumb.gif","kmeans_thumb.gif","roboter_thumb.gif","watchdog_thumb.gif","stock_thumb.gif","small_thumb.gif"];window.onpopstate=function(e){e.state&&load(e.state.url,"no history")},window.onpushstate=function(e){e.state&&load(e.state.url,"no history")},window.addEventListener("scroll",focus),window.addEventListener("load",load);